{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","changeHandler","style","padding","onChange","PersonForm","name","nameHandler","number","numberHandler","submitHandler","margin","border","value","type","onClick","Persons","persons","clickHandler","display","flexDirection","map","person","backgroundColor","id","url","personsServices","getAll","axios","get","then","response","data","add","post","del","delete","update","console","log","put","Notification","message","includes","color","background","fontSize","borderStyle","borderRadius","marginBottom","App","useEffect","personslist","setPersons","setNewList","useState","newName","setNewName","newNumber","setNewNumber","personsToList","notificationUpdate","setNotUpdate","alignItems","alignSelf","event","filter","toLowerCase","target","preventDefault","undefined","find","personToUpdate","window","confirm","updatedPerson","setTimeout","catch","error","newPerson","addedPerson","concat","updatedList","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.b6ce7f14.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({changeHandler}) =>{\r\n    return(\r\n        <div style={{padding:10}}>Filter shown with <input onChange ={changeHandler}/></div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({name , nameHandler, number, numberHandler, submitHandler}) =>{\r\n    return(\r\n    <form style={{margin:10,padding:10,border: 'solid black 2px'}}>\r\n        <h2>Add/Update a number</h2>\r\n        <p>Name: <input value={name} onChange = {nameHandler}/></p>\r\n        <p>Number: <input value={number} onChange = {numberHandler}/></p>\r\n        <button type=\"submit\" onClick ={submitHandler}>ADD</button>\r\n    </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, clickHandler}) =>{\r\n    return(\r\n        <div style={{display:'flex',flexDirection:'column', border:'solid black 2px'}}>\r\n            {\r\n            persons.map(person =>  \r\n                <div style={{display:'grid',border:'solid black 1px',padding:10}} key = {person.id}>  NAME : {person.name} <br/> NUMBER : {person.number} \r\n                    <button style={{backgroundColor:'darkred'}}value={person.id} onClick={() => clickHandler(person.id)}> DELETE </button>\r\n                </div>)\r\n            }\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () =>{\r\n    const request = axios.get(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = (person) =>{\r\n    const request = axios.post(url, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id) =>{\r\n    const request = axios.delete(`${url}/${id}`)\r\n    return request.then()\r\n}\r\n\r\nconst update = (person) =>{\r\n    console.log('update');\r\n    const request = axios.put(`${url}/${person.id}`,person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personsServices = {getAll,add,del,update,}\r\n\r\nexport default personsServices;","const Notification = ({ message}) => {\r\n\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    else if(message.includes('ERROR:')){\r\n        return(\r\n            <div style={errorStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsServices from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  \n  useEffect(() =>{\n    personsServices\n    .getAll()\n    .then(personslist => {\n      console.log('Got the persons data');\n      setPersons(personslist)\n      setNewList(personslist)\n    })\n  } ,[])\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber,setNewNumber] = useState('')\n  const [personsToList,setNewList] = useState([])\n  const [notificationUpdate, setNotUpdate] = useState(null)\n\n  \n  const submitHandler = (event) => {\n\n    event.preventDefault();\n\n    if(persons.find(person => person.name === newName) !== undefined){\n      const personToUpdate = persons.find(person => person.name === newName)\n      personToUpdate.number = newNumber;\n      if(window.confirm(`${personToUpdate.name} is already added on the phonebook, replace the old number with the new one?`)){\n        personsServices\n        .update(personToUpdate)\n        .then( updatedPerson =>{\n          setNotUpdate(\n            `Person ${updatedPerson.name} was correctly updated` \n          )\n          setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n          setNewList(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n          setNewName('')\n          setNewNumber('')\n          setTimeout(()=>{\n            setNotUpdate(null)\n          },5000)\n        })\n        .catch( (error) =>{\n          setNotUpdate(\n            `ERROR: Information of ${personToUpdate.name} has already been removed from server`\n          )\n          setPersons(persons.filter(person => person.id !== personToUpdate.id))\n          setNewList(persons.filter(person => person.id !== personToUpdate.id))\n          setNewName('')\n          setNewNumber('')\n          setTimeout(()=>{\n            setNotUpdate(null)\n          },5000)\n          return\n        })\n      }\n      return\n    }\n\n    let newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n\n    personsServices\n    .add(newPerson)\n    .then(addedPerson =>{\n      setNotUpdate(\n        `Added the person ${addedPerson.name} correctly` \n      )\n      setPersons(persons.concat(addedPerson))\n      setNewList(persons.concat(addedPerson))\n      setNewName('')\n      setNewNumber('')\n      setTimeout(()=>{\n        setNotUpdate(null)\n      },5000)\n    })\n    .catch(error => {\n      console.log(error.response.data)\n      setNotUpdate(\n        `ERROR: ${error.response.data.error}`\n      )\n      setNewName('')\n      setNewNumber('')\n      setTimeout(()=>{\n        setNotUpdate(null)\n      },5000)\n      return\n    })\n  }\n\n  const changeNameHandler = (event) => setNewName(event.target.value) \n\n  const changeNumberHandler = (event) => setNewNumber(event.target.value)\n  \n  const changeFilterHandler = (event) =>{\n    setNewList(persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase()) ))\n    if(event.target.value === ''){\n      setNewList(persons)\n    }\n  }\n\n  const deletePerson = (id) =>{\n    if(window.confirm('Are you sure you want to delete this number?')){\n      personsServices\n      .del(id)\n      .then(()=>{\n        let updatedList = persons.filter(person => person.id !== id)\n        setPersons(updatedList)\n        setNewList(updatedList)\n        console.log(`La persona con el id:${id} a sido eliminada de la base de datos`)\n      })\n    }\n  }\n\n  return (\n    <div style={\n      {display:'flex',\n      flexDirection:'column',\n      alignItems:'center',\n      padding:10\n      }}>\n      <h2 style={{alignSelf:'center',fontSize:'2rem'}}>Phonebook</h2>\n      <Notification message = {notificationUpdate}/>\n      <Filter changeHandler={changeFilterHandler}/>\n      <PersonForm name={newName} nameHandler={changeNameHandler} number={newNumber} numberHandler={changeNumberHandler} submitHandler={submitHandler}/>\n      <h2 style={{fontSize:'2rem'}}>Numbers</h2>\n      <Persons persons = {personsToList} clickHandler={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport App from './App';\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />);\n\n"],"sourceRoot":""}